webpackJsonp([3],{"/i6v":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Foau"),n=a("3Hl2"),s={1:{value:1,desc:"开始",color:"primary"},2:{value:2,desc:"完成",color:"success"},3:{value:3,desc:"异常",color:"error"},4:{value:4,desc:"等待",color:"warning"}},i={props:{bizNo:String},data:function(){return{searchParam:{bizNo:""},columns:[{title:"节点ID",key:"nodeId",minWidth:100,align:"center"},{title:"失败执行次数",key:"failedCount",width:110,align:"center"},{title:"已执行次数",key:"execCount",minWidth:100,align:"center"},{title:"执行状态",key:"status",minWidth:130,align:"center",render:function(e,t){var a=t.row,r=s[a.status];return e("Tag",{props:{color:r.color,type:"dot"}},r.desc)}},{title:"创建时间",key:"createTime",minWidth:150,align:"center",render:function(e,t){return e("div",Object(n.g)(t.row.createTime))}},{title:"修改时间",key:"modifiedTime",minWidth:150,align:"center",render:function(e,t){return e("div",Object(n.g)(t.row.modifiedTime))}}],processNodeInstanceData:[]}},methods:{searchProcessNodeInstanceData:function(e){var t=this;this.searchParam.bizNo=e;var a=this.searchParam;Object(r.c)(a).then(function(e){if(e.success){var a=e.data||[];t.processNodeInstanceData=a}else t.$Notice.error({desc:e.resultMsg})})}},mounted:function(){var e=this.bizNo;this.searchProcessNodeInstanceData(e)}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Card",[t("p",{attrs:{slot:"title"},slot:"title"},[t("Icon",{attrs:{type:"md-pricetag"}}),this._v("流程节点实例\n    ")],1),this._v(" "),t("Table",{attrs:{border:"",columns:this.columns,data:this.processNodeInstanceData}})],1)],1)},staticRenderFns:[]},o=a("C7Lr")(i,c,!1,null,null,null).exports,l={data:function(){return{searchParam:{queryData:"",pageNum:1,pageSize:10},pageData:{pageCurrent:1,total:0,pageSize:10},columns:[{type:"expand",width:50,render:function(e,t){return e(o,{props:{bizNo:t.row.bizNo}})}},{title:"流程ID",key:"processId",width:100,align:"center"},{title:"流程实例ID",key:"id",align:"center"},{title:"业务流水号",key:"bizNo",align:"center"},{title:"创建时间",key:"createTime",align:"center",render:function(e,t){return e("div",Object(n.g)(t.row.createTime))}},{title:"修改时间",key:"modifiedTime",align:"center",render:function(e,t){return e("div",Object(n.g)(t.row.modifiedTime))}}],processInstancePageData:[]}},methods:{searchProcessInstancePageData:function(e){var t=this;this.searchParam.pageNum=e;var a=this.searchParam;Object(r.a)(a).then(function(e){if(e.success){var a=e.data||{},r=a.pageData||[];t.processInstancePageData=r,t.pageData.total=a.total}else t.$Notice.error({desc:e.resultMsg})})},onPageSizeChange:function(e){this.searchParam.pageSize=e,this.searchProcessInstancePageData(1)},gotoNode:function(e){this.$router.push({name:"instance_node",params:{bizNo:e}})}},mounted:function(){this.searchProcessInstancePageData(1)}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("div",{staticClass:"search-con"},[a("Input",{staticClass:"search-input",attrs:{clearable:"",placeholder:"请输入业务流水号搜索"},model:{value:e.searchParam.queryData,callback:function(t){e.$set(e.searchParam,"queryData",t)},expression:"searchParam.queryData"}}),e._v(" "),a("Button",{staticClass:"search-btn",attrs:{type:"primary",icon:"ios-search",disabled:!e.searchParam.queryData},on:{click:function(t){return e.searchProcessInstancePageData(1)}}},[e._v("搜索")])],1),e._v(" "),a("Table",{attrs:{border:"",columns:e.columns,data:e.processInstancePageData}}),e._v(" "),a("div",{staticStyle:{marginTop:"15px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.pageData.total,current:e.pageData.pageCurrent,"page-size":e.pageData.pageSize,"show-total":"","show-sizer":""},on:{"on-change":e.searchProcessInstancePageData,"on-page-size-change":e.onPageSizeChange}})],1)])],1)],1)},staticRenderFns:[]};var d=a("C7Lr")(l,u,!1,function(e){a("nY5p")},null,null).exports;t.default=d},nY5p:function(e,t){}});
//# sourceMappingURL=3.8fa8962dcea261271694.js.map